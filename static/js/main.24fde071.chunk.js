(this["webpackJsonpmc-status"]=this["webpackJsonpmc-status"]||[]).push([[0],{136:function(e,t,a){e.exports=a(222)},156:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(23),c=a.n(l),o=a(114),s=a(115),i=a(133),u=a(128),m=a(116);function d(){return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h2",null,"Loading"),n.a.createElement(m.a,{size:"large"}))}var f=a(232);function E(e){return n.a.createElement(f.a,{status:"error",title:"Failed to fetch server details",subTitle:e.message})}var p=a(225),v=a(226),y=a(224),h=a(231),g=a(59),b=a(119),j=a.n(b),O=function(e){var t=e.motd,a=Object(r.useState)(""),l=Object(g.a)(a,2),c=l[0],o=l[1];return Object(r.useEffect)((function(){j.a.toHtml(t,(function(e,t){return o(t)}))}),[t]),(null===t||void 0===t?void 0:t.trim())?n.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}}):null},S=a(228),x=a(60),L=a(38),k=function(e){return e.online?n.a.createElement(S.a.Title,{level:3},n.a.createElement(x.a,{style:{color:"green"}})," Online!"):n.a.createElement(S.a.Title,{level:3},n.a.createElement(L.a,{style:{color:"darkred"}})," Offline")},w=a(236),A=function(e){var t=e.players;if(!t)return null;var a=t.now,r=t.max;return n.a.createElement(S.a.Text,{strong:!0},n.a.createElement(w.a,null)," ",a," / ",r," player",1===a?"":"s"," online")},I=a(134),q=a(227),M=a(135),N=a(234),T=function(e){var t=e.player,a=t.name,l=t.id,c=Object(r.useState)(l),o=Object(g.a)(c,2),s=o[0],i=o[1];return Object(r.useEffect)((function(){a&&!s?fetch("https://api.minetools.eu/uuid/".concat(a)).then((function(e){return e.json()})).then((function(e){console.log({response:e}),i(e.id)})).catch((function(e){console.error(e)})):console.log("UUID supplied",{name:a,uuid:s})}),[a,s]),n.a.createElement(q.b.Item.Meta,{avatar:n.a.createElement(N.a,{shape:"square",size:"large",src:"https://crafatar.com/renders/head/".concat(s,"?overlay")}),title:n.a.createElement("a",{href:"https://namemc.com/profile/".concat(a),target:"_blank",rel:"noopener noreferrer"},a)})},z=function(e){var t,a,r=e.players;if(!r)return null;var l=new Map;if(null===r||void 0===r||null===(t=r.list)||void 0===t||t.forEach((function(e){return l.set(e,void 0)})),null===r||void 0===r||null===(a=r.sample)||void 0===a||a.forEach((function(e){return l.set(e.name,e.id)})),console.log("PLAYERMAP",l),0===l.size)return null;var c=Array.from(l).sort((function(e,t){return e[0].localeCompare(t[0])})),o=n.a.createElement("div",{style:{width:"300px"}},n.a.createElement("p",null,'Servers are able to control a "sample" of players online, and may use this for extra metadata or advertisment.'),n.a.createElement("p",null,"Occasionally, servers may also report nicknames.")),s=n.a.createElement(I.a,{content:o,title:"Why are there weird names sometimes?",placement:"topLeft"},n.a.createElement(M.a,null));return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{orientation:"left"},"Player List ",s),n.a.createElement(q.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:5},dataSource:c,size:"large",renderItem:function(e){var t=Object(g.a)(e,2),a=t[0],r=t[1];return n.a.createElement(q.b.Item,null,n.a.createElement(T,{player:{name:a,id:r}}))}}))},P="".concat("/mc-status","/grassblock.jpg"),C=function(e){var t=e.favicon;return n.a.createElement(N.a,{src:null!==t&&void 0!==t?t:P,size:128,shape:"square"})},F=a(235),J=function(e){var t=e.server;if(!t||!(null===t||void 0===t?void 0:t.name))return null;var a=t.name.split(/[\s-,]+/).map((function(e){return n.a.createElement(F.a,{key:e},e)}));return n.a.createElement("div",{style:{maxWidth:"400px"}},a)},D=function(e){var t=e.data;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{gutter:[16,16]},n.a.createElement(v.a,{flex:"128px"},n.a.createElement(C,{favicon:t.favicon})),n.a.createElement(v.a,{style:{textAlign:"initial"}},n.a.createElement(k,{online:t.online}),n.a.createElement(A,{players:t.players}),n.a.createElement(J,{server:t.server}),n.a.createElement(O,{motd:t.motd}))),n.a.createElement(p.a,{gutter:[16,16]},n.a.createElement(v.a,{span:24},n.a.createElement(z,{players:t.players}))),n.a.createElement(p.a,{gutter:[16,16]},n.a.createElement(v.a,{span:24},n.a.createElement(y.a,null),n.a.createElement(h.a,{ghost:!0,style:{textAlign:"initial"}},n.a.createElement(h.a.Panel,{header:"Raw Data",key:"1"},n.a.createElement("pre",null,JSON.stringify(t,null,2)))))))},H=function e(t,a){var r=Object.assign({},t);return Object.keys(a).forEach((function(t){var n,l=r[t],c=a[t];!(n=c)||"object"!==typeof n||Array.isArray(n)?l||(r[t]=c):r[t]=e(l,c)})),r},R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={statusLoaded:!1,queryLoaded:!1},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://mcapi.us/server/status?ip=".concat(this.props.address)).then((function(e){return e.json()})).then((function(t){var a="success"===(null===t||void 0===t?void 0:t.status)?t:{},r=H(e.state.data,a);e.setState({data:r,statusLoaded:!0})})).catch((function(t){e.setState({statusError:t,statusLoaded:!0}),console.error(t)})),fetch("https://mcapi.us/server/query?ip=".concat(this.props.address)).then((function(e){return e.json()})).then((function(t){var a="success"===(null===t||void 0===t?void 0:t.status)?t:{},r=H(e.state.data,a);e.setState({data:r,queryLoaded:!0})})).catch((function(t){e.setState({queryError:t}),console.error(t)}))}},{key:"render",value:function(){var e=this.state,t=e.statusError,a=e.queryError,r=e.data,l=e.statusLoaded,c=e.queryLoaded;if(!l&&!c)return n.a.createElement(d,null);if(!r||0===Object.keys(r).length){if(l&&c){var o=[t,a].filter((function(e){return e})).join("/");return n.a.createElement(E,{message:o})}return n.a.createElement(d,null)}return(r.error||"error"===r.status)&&l&&c?n.a.createElement(E,{message:r?r.error:"No data found??"}):n.a.createElement(D,{data:r,key:JSON.stringify(r)})}}]),a}(n.a.Component),U=a(233),_=a(229),W=a(230),B=a(129),G=(a(155),a(156),U.a.Header),V=U.a.Footer,Y=U.a.Content;var K=function(){var e=new URLSearchParams(window.location.search),t=e.get("ip");return n.a.createElement(U.a,{className:"layout"},n.a.createElement(G,{className:"layout-header"},n.a.createElement(S.a.Title,null,"Minecraft Server Status")),n.a.createElement(Y,{className:"layout-content"},n.a.createElement(_.a,{style:{textAlign:"center"},name:"basic",layout:"vertical",size:"large",initialValues:{ip:t},onFinish:function(t){t.ip&&(e.set("ip",t.ip),window.location.search=e.toString())}},n.a.createElement(_.a.Item,{label:"Server IP:",name:"ip"},n.a.createElement(W.a,null)),n.a.createElement(_.a.Item,null,n.a.createElement(B.a,{type:"primary",htmlType:"submit"},"Go!"))),n.a.createElement(y.a,null),t&&n.a.createElement(R,{key:t,address:t})),n.a.createElement(V,{className:"layout-footer"},"Created by ",n.a.createElement("a",{href:"https://github.com/Samuel-Lewis"},"Samuel Lewis")," |"," ","Avatars by ",n.a.createElement("a",{href:"https://crafatar.com"},"Crafatar")))};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(K,null)),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.24fde071.chunk.js.map