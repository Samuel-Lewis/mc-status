{"version":3,"sources":["server-state/loading.tsx","server-state/error.tsx","server-state/server.tsx","app.tsx","index.tsx"],"names":["Loading","style","textAlign","size","Error","props","status","title","subTitle","message","ServerStatus","state","loading","fetch","this","address","then","response","json","data","setState","catch","error","console","online","favicon","src","shape","ghost","Panel","header","key","JSON","stringify","React","Component","Header","Layout","Footer","Content","App","params","URLSearchParams","window","location","search","paramIp","get","className","name","layout","initialValues","ip","onFinish","values","set","toString","Item","label","type","htmlType","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4RAGe,SAASA,IACtB,OACE,yBAAKC,MAAO,CAAEC,UAAW,WACvB,uCACA,kBAAC,IAAD,CAAMC,KAAK,W,aCAF,SAASC,EAAMC,GAC5B,OACE,kBAAC,IAAD,CACEC,OAAO,QACPC,MAAM,iCACNC,SAAUH,EAAMI,UC0Bf,IAAMC,EAAb,kDACE,WAAYL,GAAqB,IAAD,8BAC9B,cAAMA,IACDM,MAAQ,CAAEC,SAAS,GAFM,EADlC,gEAMuB,IAAD,OAClBC,MAAM,qCAAD,OAAsCC,KAAKT,MAAMU,UACnDC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACA,EAAKR,MAAMQ,MACd,EAAKC,SAAS,CAAED,OAAMP,SAAS,OAGlCS,OAAM,SAACC,GACN,EAAKF,SAAS,CAAEE,QAAOV,SAAS,IAChCW,QAAQD,MAAMA,MAGlBT,MAAM,oCAAD,OAAqCC,KAAKT,MAAMU,UAClDC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACDA,EAAKK,QACP,EAAKJ,SAAS,CAAED,OAAMP,SAAS,OAGlCS,OAAM,SAACC,GACN,EAAKF,SAAS,CAAEE,QAAOV,SAAS,IAChCW,QAAQD,MAAMA,QA5BtB,+BAgCY,IAAD,EAC0BR,KAAKH,MAA9BC,EADD,EACCA,QAASO,EADV,EACUA,KAAMG,EADhB,EACgBA,MACvB,GAAIA,EACF,OAAO,kBAAClB,EAAD,CAAOK,QAASa,EAAMb,UAG/B,GAAIG,EACF,OAAO,kBAACZ,EAAD,MAGT,IAAKmB,GAAQA,EAAKG,OAAyB,UAAhBH,EAAKb,OAC9B,OAAO,kBAACF,EAAD,CAAOK,QAASU,EAAOA,EAAKG,MAAQ,oBAXtC,IAcCE,EAAWL,EAAXK,OAER,OACE,oCACE,4BAAKA,EAAS,UAAY,WACzBL,EAAKM,SACJ,kBAAC,IAAD,CAAQC,IAAKP,EAAKM,QAAStB,KAAM,IAAKwB,MAAM,WAG9C,kBAAC,IAAD,CAAUC,OAAK,EAAC3B,MAAO,CAAEC,UAAW,YAClC,kBAAC,IAAS2B,MAAV,CAAgBC,OAAO,WAAWC,IAAI,KACpC,6BAAMC,KAAKC,UAAUd,EAAM,KAAM,WAzD7C,GAAkCe,IAAMC,W,mCC/BhCC,G,OAA4BC,IAA5BD,QAAQE,EAAoBD,IAApBC,OAAQC,EAAYF,IAAZE,QAgDTC,MA9Cf,WACE,IAAMC,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAC7CC,EAAUL,EAAOM,IAAI,MAS3B,OACE,kBAAC,IAAD,CAAQC,UAAU,UAChB,kBAACZ,EAAD,KACE,yBAAKY,UAAU,SADjB,2BAIA,kBAACT,EAAD,CAASS,UAAU,kBACjB,kBAAC,IAAD,CACEC,KAAK,QACLC,OAAO,WACP/C,KAAK,QACLgD,cAAe,CAAEC,GAAIN,GACrBO,SAnBS,SAACC,GACZA,EAAOF,KACTX,EAAOc,IAAI,KAAMD,EAAOF,IACxBT,OAAOC,SAASC,OAASJ,EAAOe,cAkB5B,kBAAC,IAAKC,KAAN,CAAWC,MAAM,YAAYT,KAAK,MAChC,kBAAC,IAAD,OAGF,kBAAC,IAAKQ,KAAN,KACE,kBAAC,IAAD,CAAQE,KAAK,UAAUC,SAAS,UAAhC,SAMHd,GAAW,kBAAC,EAAD,CAAcf,IAAKe,EAAS/B,QAAS+B,KAEnD,kBAACR,EAAD,CAAQU,UAAU,iBAAlB,4BAC4B,IAC1B,uBAAGa,KAAK,mCAAR,aC7CRC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.f45a91b8.chunk.js","sourcesContent":["import React from \"react\";\nimport { Spin } from \"antd\";\n\nexport default function Loading() {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <h2>Loading</h2>\n      <Spin size=\"large\" />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Result } from \"antd\";\n\nexport type ErrorProps = {\n  message?: string;\n};\n\nexport default function Error(props: ErrorProps) {\n  return (\n    <Result\n      status=\"error\"\n      title=\"Failed to fetch server details\"\n      subTitle={props.message}\n    />\n  );\n}\n","import React from \"react\";\nimport { Collapse, Avatar } from \"antd\";\n\nimport Loading from \"./loading\";\nimport Error from \"./error\";\n\nexport type Payload = {\n  status: string;\n  online: boolean;\n  error?: string;\n  motd?: string;\n  favicon?: string;\n  version?: string;\n  game_type?: string;\n  game_id?: any;\n  server_mod?: string;\n  map?: any;\n  players?: {\n    max?: number;\n    now?: number;\n    list?: any[];\n  };\n  plugins?: any[];\n  last_online?: string;\n  last_updated?: string;\n  duration?: number;\n};\n\nexport type ServerProps = {\n  address: string;\n};\n\nexport type ServerState = {\n  loading: boolean;\n  data?: Payload;\n  error?: Error;\n};\n\nexport class ServerStatus extends React.Component<ServerProps, ServerState> {\n  constructor(props: ServerProps) {\n    super(props);\n    this.state = { loading: true };\n  }\n\n  componentDidMount() {\n    fetch(`https://mcapi.us/server/status?ip=${this.props.address}`)\n      .then((response) => response.json())\n      .then((data) => {\n        if (!this.state.data) {\n          this.setState({ data, loading: false });\n        }\n      })\n      .catch((error) => {\n        this.setState({ error, loading: false });\n        console.error(error);\n      });\n\n    fetch(`https://mcapi.us/server/query?ip=${this.props.address}`)\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.online) {\n          this.setState({ data, loading: false });\n        }\n      })\n      .catch((error) => {\n        this.setState({ error, loading: false });\n        console.error(error);\n      });\n  }\n\n  render() {\n    const { loading, data, error } = this.state;\n    if (error) {\n      return <Error message={error.message} />;\n    }\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    if (!data || data.error || data.status === \"error\") {\n      return <Error message={data ? data.error : \"No data found??\"} />;\n    }\n\n    const { online } = data;\n\n    return (\n      <>\n        <h2>{online ? \"Online!\" : \"Offline\"}</h2>\n        {data.favicon && (\n          <Avatar src={data.favicon} size={128} shape=\"square\" />\n        )}\n\n        <Collapse ghost style={{ textAlign: \"initial\" }}>\n          <Collapse.Panel header=\"Raw Data\" key=\"1\">\n            <pre>{JSON.stringify(data, null, 2)}</pre>\n          </Collapse.Panel>\n        </Collapse>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { ServerStatus } from \"./server-state/server\";\nimport { Button, Layout, Form, Input } from \"antd\";\n\nimport \"antd/dist/antd.css\";\n\nconst { Header, Footer, Content } = Layout;\n\nfunction App() {\n  const params = new URLSearchParams(window.location.search);\n  const paramIp = params.get(\"ip\");\n\n  const onFinish = (values: { ip?: string }) => {\n    if (values.ip) {\n      params.set(\"ip\", values.ip);\n      window.location.search = params.toString();\n    }\n  };\n\n  return (\n    <Layout className=\"layout\">\n      <Header>\n        <div className=\"logo\" />\n        Minecraft Server Status\n      </Header>\n      <Content className=\"layout-content\">\n        <Form\n          name=\"basic\"\n          layout=\"vertical\"\n          size=\"large\"\n          initialValues={{ ip: paramIp }}\n          onFinish={onFinish}\n        >\n          <Form.Item label=\"Server IP\" name=\"ip\">\n            <Input />\n          </Form.Item>\n\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Go!\n            </Button>\n          </Form.Item>\n        </Form>\n\n        {paramIp && <ServerStatus key={paramIp} address={paramIp} />}\n      </Content>\n      <Footer className=\"layout-footer\">\n        Created by Samuel Lewis |{\" \"}\n        <a href=\"https://github.com/Samuel-Lewis\">GitHub</a>\n      </Footer>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}