(this["webpackJsonpmc-status"]=this["webpackJsonpmc-status"]||[]).push([[0],{164:function(e,t,r){},244:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(25),c=r.n(a),i=(r(163),r(164),r(255)),o=r(249),l=r(250),u=r(252),j=r(56),h=r(247),d=r(259),b=r(45),x=r(251),f=r(5),O=function(e){var t=e.title,r=e.children,s=Object(n.useState)(!1),a=Object(b.a)(s,2),c=a[0],i=a[1],o=function(){i(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{type:"link",onClick:function(){i(!0)},children:t}),Object(f.jsx)(x.a,{title:t,visible:c,onOk:o,onCancel:o,footer:Object(f.jsx)(j.a,{type:"primary",onClick:o,children:"Ok"},"Ok"),children:r})]})},m=o.a.Paragraph,p=o.a.Text,v=o.a.Link,y=o.a.Title,g=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{children:"This site is an ad-free, lightweight way to check the status of your favourite Minecraft server."}),Object(f.jsx)(m,{children:"Currently, the site only supports Java servers."}),Object(f.jsxs)(m,{children:["This site is basically always under development, as I use it for a platform for learning web development. If there are any questions, suggestions, feedback or bugs, you can raise an"," ",Object(f.jsx)(v,{href:"https://github.com/Samuel-Lewis/mc-status/issues",children:"issue on the GitHub repo"}),"."]}),Object(f.jsxs)(m,{children:["Created using",Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:["API queries by ",Object(f.jsx)(v,{href:"https://mcapi.us/",children:"MC API"})]}),Object(f.jsxs)("li",{children:["Player information by"," ",Object(f.jsx)(v,{href:"https://api.minetools.eu/",children:"MineTools"})," and"," ",Object(f.jsx)(v,{href:"https://namemc.com/",children:"NameMC"})]}),Object(f.jsxs)("li",{children:["Avatars by ",Object(f.jsx)(v,{href:"https://crafatar.com",children:"Crafatar"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)(v,{href:"https://reactjs.org/",children:"React"})," and"," ",Object(f.jsx)(v,{href:"https://ant.design/",children:"Ant Design"})]})]})]})]})},w=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{level:4,children:"Why is my server not showing up?"}),Object(f.jsxs)(m,{children:["There are a few reasons your server may not be showing up",Object(f.jsxs)("ol",{children:[Object(f.jsx)("li",{children:"The server maybe offline"}),Object(f.jsxs)("li",{children:["The server ",Object(f.jsx)(p,{code:!0,children:"enable-status"})," may be set to ",Object(f.jsx)(p,{code:!0,children:"false"})]}),Object(f.jsxs)("li",{children:["There is a bug in my code \ud83d\ude1e. You can raise an"," ",Object(f.jsx)(v,{href:"https://github.com/Samuel-Lewis/mc-status/issues",children:"issue on the GitHub repo"}),"."]})]})]}),Object(f.jsx)(y,{level:4,children:"How come some servers show more details than others?"}),Object(f.jsxs)(m,{children:["Ultimately, servers can show as much or as little as they want. If you want to show more detailed information on your server, set"," ",Object(f.jsx)(p,{code:!0,children:"enable-status"})," and ",Object(f.jsx)(p,{code:!0,children:"enable-query"})," to ",Object(f.jsx)(p,{code:!0,children:"true"})," ","in your ",Object(f.jsx)(p,{code:!0,children:"server.properties"}),". Remember though, this is information shared to the public. Check that there is nothing unintentional being exposed or that you have measures to protect your server if needed."]}),Object(f.jsx)(y,{level:4,children:"Why do some player lists look weird or empty?"}),Object(f.jsx)(m,{children:"As above, servers can show what they like. Some servers take the opportunity to show ads, extra server information, a subset of players, or maybe, no players at all."}),Object(f.jsx)(y,{level:4,children:"How do I donate or contribute?"}),Object(f.jsxs)(m,{children:["This website costs me zero dollars per year to run as it relies on existing free services. While it's a kind notion, you hang on to it for a rainy day \ud83d\ude09. If you really want to contribute, the code is open-source on"," ",Object(f.jsx)(v,{href:"https://github.com/Samuel-Lewis/mc-status",children:"GitHub"}),"."]})]})},k=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{title:"About",children:Object(f.jsx)(g,{})}),"|",Object(f.jsx)(O,{title:"FAQ",children:Object(f.jsx)(w,{})})]})},S=r(245),I=r(246),L=r(248),A=r(55),T=r(53),H=L.b.Item,C=o.a.Title,M=function(e){var t=e.servers,r=e.title,n=e.onDelete;if(0===t.length)return null;var s=function(e){var t=new URL(window.location.href);return t.searchParams.append("ip",e),t.href},a=function(e){return n?Object(f.jsx)(A.a,{title:"Remove server",children:Object(f.jsx)(j.a,{shape:"circle",type:"text",icon:Object(f.jsx)(T.a,{style:{color:"rgba(0, 0, 0, 0.45)"}}),onClick:function(){return n(e)}})}):null};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(C,{level:3,children:r}),Object(f.jsx)(L.b,{itemLayout:"horizontal",dataSource:t,size:"large",renderItem:function(e){return Object(f.jsx)(H,{actions:[a(e)],children:Object(f.jsx)(H.Meta,{title:Object(f.jsx)("a",{href:s(e.url),children:e.url}),description:e.name})})}})]})},P=r(50),E=r.n(P),q=r(123),F=r(86),N=r(121),z=r.n(N);var D=z.a.createInstance({name:"server-searches"}),R=function(){var e=Object(F.a)(E.a.mark((function e(t){var r,n,s,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.url,e.next=3,z.a.getItem(n);case 3:if(!(null===(s=e.sent)||(c=s,!c||"object"!==typeof c||"string"!==typeof c.name||"string"!==typeof c.url||"undefined"!==typeof c.lastAccess&&"number"!==typeof c.lastAccess||"undefined"!==typeof c.totalHits&&"number"!==typeof c.totalHits))){e.next=8;break}return e.next=7,D.setItem(n,{name:r,url:n,lastAccess:Date.now(),totalHits:1});case 7:case 11:return e.abrupt("return",e.sent);case 8:return a=Object(q.a)(Object(q.a)({},s),{},{totalHits:(s.totalHits||0)+1,lastAccess:Date.now(),name:r}),e.next=11,D.setItem(n,a);case 12:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.removeItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(F.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.keys();case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=Object(F.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getItem(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return r=e.sent,e.abrupt("return",r.sort((function(e,t){return e.totalHits===t.totalHits?0:(e.totalHits||0)<(t.totalHits||0)?1:-1})).slice(0,4));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=[{name:"Hypixel",url:"mc.hypixel.net"},{name:"2b2t",url:"2b2t.org"},{name:"Mineplex (US)",url:"us.mineplex.com"},{name:"MineTower",url:"minetower.serv.gs"}],G=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),r=t[0],s=t[1],a=Object(n.useCallback)((function(e){U(e.url).then((function(){W().then((function(e){return s(e)}))}))}),[s]);return Object(n.useEffect)((function(){W().then((function(e){return s(e)}))}),[s]),Object(f.jsxs)(S.a,{gutter:16,children:[Object(f.jsx)(I.a,{span:12,flex:"auto",children:Object(f.jsx)(M,{title:"Popular servers",servers:J})}),Object(f.jsx)(I.a,{span:12,flex:"auto",children:Object(f.jsx)(M,{title:"Recent servers",servers:r,onDelete:a})})]})},_=r(144),Q=r(145),Y=r(155),B=r(150),V=r(253),K=r(146),X=r.n(K),Z=function(e){var t=e.motd,r=Object(n.useState)(""),s=Object(b.a)(r,2),a=s[0],c=s[1];return Object(n.useEffect)((function(){X.a.toHtml(t,(function(e,t){return c(t)}))}),[t]),(null===t||void 0===t?void 0:t.trim())?Object(f.jsx)("div",{dangerouslySetInnerHTML:{__html:a}}):null},$=r(72),ee=r(46),te=function(e){return e.online?Object(f.jsxs)(o.a.Title,{level:3,children:[Object(f.jsx)($.a,{style:{color:"green"}})," Online!"]}):Object(f.jsxs)(o.a.Title,{level:3,children:[Object(f.jsx)(ee.a,{style:{color:"darkred"}})," Offline"]})},re=r(258),ne=function(e){var t=e.players;if(!t)return null;var r=t.now,n=t.max;return Object(f.jsxs)(o.a.Text,{strong:!0,children:[Object(f.jsx)(re.a,{})," ",r," / ",n," player",1===r?"":"s"," online"]})},se=r(156),ae=r(157),ce=r(256),ie=function(e){var t=e.player,r=t.name,s=t.id,a=Object(n.useState)(s),c=Object(b.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){r&&!i?fetch("https://api.minetools.eu/uuid/".concat(r)).then((function(e){return e.json()})).then((function(e){console.log({response:e}),o(e.id)})).catch((function(e){console.error(e)})):console.log("UUID supplied",{name:r,uuid:i})}),[r,i]),Object(f.jsx)(L.b.Item.Meta,{avatar:Object(f.jsx)(ce.a,{shape:"square",size:"large",src:"https://crafatar.com/renders/head/".concat(i,"?overlay")}),title:Object(f.jsx)("a",{href:"https://namemc.com/profile/".concat(r),target:"_blank",rel:"noopener noreferrer",children:r})})},oe=function(e){var t,r,n=e.players;if(!n)return null;var s=new Map;if(null===n||void 0===n||null===(t=n.list)||void 0===t||t.forEach((function(e){return s.set(e,void 0)})),null===n||void 0===n||null===(r=n.sample)||void 0===r||r.forEach((function(e){return s.set(e.name,e.id)})),console.log("PLAYERMAP",s),0===s.size)return null;var a=Array.from(s).sort((function(e,t){return e[0].localeCompare(t[0])})),c=Object(f.jsxs)("div",{style:{width:"300px"},children:[Object(f.jsx)("p",{children:'Servers are able to control a "sample" of players online, and may use this for extra metadata or advertisment.'}),Object(f.jsx)("p",{children:"Occasionally, servers may also report nicknames."})]}),i=Object(f.jsx)(se.a,{content:c,title:"Why are there weird names sometimes?",placement:"topLeft",children:Object(f.jsx)(ae.a,{})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(h.a,{orientation:"left",children:["Player List ",i]}),Object(f.jsx)(L.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:5},dataSource:a,size:"large",renderItem:function(e){var t=Object(b.a)(e,2),r=t[0],n=t[1];return Object(f.jsx)(L.b.Item,{children:Object(f.jsx)(ie,{player:{name:r,id:n}})})}})]})},le="".concat("/mc-status","/grassblock.jpg"),ue=function(e){var t=e.favicon;return Object(f.jsx)(ce.a,{src:null!==t&&void 0!==t?t:le,size:128,shape:"square"})},je=r(257),he=function(e){var t=e.server;if(!t||!(null===t||void 0===t?void 0:t.name))return null;var r=t.name.split(/[\s-,]+/).map((function(e){return Object(f.jsx)(je.a,{children:e},e)}));return Object(f.jsx)("div",{style:{maxWidth:"400px"},children:r})},de=function(e){var t=e.data;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(S.a,{gutter:[16,16],children:[Object(f.jsx)(I.a,{flex:"128px",children:Object(f.jsx)(ue,{favicon:t.favicon})}),Object(f.jsxs)(I.a,{style:{textAlign:"initial"},children:[Object(f.jsx)(te,{online:t.online}),Object(f.jsx)(ne,{players:t.players}),Object(f.jsx)(he,{server:t.server}),Object(f.jsx)(Z,{motd:t.motd})]})]}),Object(f.jsx)(S.a,{gutter:[16,16],children:Object(f.jsx)(I.a,{span:24,children:Object(f.jsx)(oe,{players:t.players})})}),Object(f.jsx)(S.a,{gutter:[16,16],children:Object(f.jsxs)(I.a,{span:24,children:[Object(f.jsx)(h.a,{}),Object(f.jsx)(V.a,{ghost:!0,style:{textAlign:"initial"},children:Object(f.jsx)(V.a.Panel,{header:"Raw Data",children:Object(f.jsx)("pre",{children:JSON.stringify(t,null,2)})},"1")})]})})]})},be=r(254);function xe(e){return Object(f.jsx)(be.a,{status:"error",title:"Failed to fetch server details",subTitle:e.message})}var fe=r(142);function Oe(){return Object(f.jsxs)("div",{style:{textAlign:"center"},children:[Object(f.jsx)("h2",{children:"Loading"}),Object(f.jsx)(fe.a,{size:"large"})]})}var me=function e(t,r){var n=Object.assign({},t);return Object.keys(r).forEach((function(t){var s,a=n[t],c=r[t];!(s=c)||"object"!==typeof s||Array.isArray(s)?a||(n[t]=c):n[t]=e(a,c)})),n},pe=function(e){Object(Y.a)(r,e);var t=Object(B.a)(r);function r(e){var n;return Object(_.a)(this,r),(n=t.call(this,e)).state={statusLoaded:!1,queryLoaded:!1},n}return Object(Q.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("https://mcapi.us/server/status?ip=".concat(this.props.address)).then((function(e){return e.json()})).then((function(t){var r="success"===(null===t||void 0===t?void 0:t.status)?t:{},n=me(e.state.data,r);e.setState({data:n,statusLoaded:!0})})).catch((function(t){e.setState({statusError:t,statusLoaded:!0}),console.error(t)})),fetch("https://mcapi.us/server/query?ip=".concat(this.props.address)).then((function(e){return e.json()})).then((function(t){var r="success"===(null===t||void 0===t?void 0:t.status)?t:{},n=me(e.state.data,r);e.setState({data:n,queryLoaded:!0})})).catch((function(t){e.setState({queryError:t}),console.error(t)}))}},{key:"render",value:function(){var e,t=this.state,r=t.statusError,n=t.queryError,s=t.data,a=t.statusLoaded,c=t.queryLoaded;if(!a&&!c)return Object(f.jsx)(Oe,{});if(!s||0===Object.keys(s).length){if(a&&c){var i=[r,n].filter((function(e){return e})).join("/");return Object(f.jsx)(xe,{message:i})}return Object(f.jsx)(Oe,{})}return(s.error||"error"===s.status)&&a&&c?Object(f.jsx)(xe,{message:s?s.error:"No data found??"}):(R({name:(null===(e=s.server)||void 0===e?void 0:e.name)||"Unnamed server",url:this.props.address}),Object(f.jsx)(de,{data:s},JSON.stringify(s)))}}]),r}(s.a.Component),ve=i.a.Header,ye=i.a.Footer,ge=i.a.Content,we=o.a.Title;var ke=function(){var e=new URLSearchParams(window.location.search),t=e.get("ip");return Object(f.jsxs)(i.a,{className:"layout",children:[Object(f.jsx)(ve,{className:"layout-header",children:Object(f.jsx)("a",{href:"".concat("/mc-status"),children:Object(f.jsxs)("h2",{className:"layout-header",children:[Object(f.jsx)("img",{className:"logo",src:"".concat("/mc-status","/logo512.png"),alt:"computer logo"}),"Minecraft Server Status"]})})}),Object(f.jsxs)(ge,{className:"layout-content",children:[Object(f.jsxs)(l.a,{style:{textAlign:"center"},name:"basic",layout:"vertical",size:"large",initialValues:{ip:t},onFinish:function(t){t.ip&&(e.set("ip",t.ip),window.location.search=e.toString())},children:[Object(f.jsx)(we,{level:3,children:"Quickly check your Minecraft server status!"}),Object(f.jsx)(l.a.Item,{name:"ip",children:Object(f.jsx)(u.a,{prefix:Object(f.jsx)(d.a,{}),placeholder:"Server IP"})}),Object(f.jsx)(l.a.Item,{children:Object(f.jsx)(j.a,{type:"primary",htmlType:"submit",style:{maxWidth:"300px",width:"100%"},children:"Go!"})}),Object(f.jsx)(k,{})]}),Object(f.jsx)(h.a,{}),!t&&Object(f.jsx)(G,{}),t&&Object(f.jsx)(pe,{address:t},t)]}),Object(f.jsxs)(ye,{className:"layout-footer",children:["Created by ",Object(f.jsx)("a",{href:"https://github.com/Samuel-Lewis",children:"Samuel Lewis"})]})]})};c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(ke,{})}),document.getElementById("root"))}},[[244,1,2]]]);
//# sourceMappingURL=main.0a6b29dc.chunk.js.map