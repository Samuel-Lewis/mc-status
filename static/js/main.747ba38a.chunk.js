(this["webpackJsonpmc-status"]=this["webpackJsonpmc-status"]||[]).push([[0],{155:function(e,t,r){},235:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(26),c=r.n(s),i=(r(154),r(155),r(245)),o=r(241),l=r(242),u=r(142),j=r(236),d=r(49),b=r(239),h=r(240),f=r(6),O=b.b.Item,x=h.a.Title,m=function(e){var t=e.servers,r=e.title;if(0===t.length)return null;var n=function(e){var t=new URL(window.location.href);return t.searchParams.append("ip",e),t.href};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{level:3,children:r}),Object(f.jsx)(b.b,{bordered:!0,itemLayout:"vertical",dataSource:t,size:"large",renderItem:function(e){return Object(f.jsx)(O,{children:Object(f.jsx)(O.Meta,{title:Object(f.jsx)("a",{href:n(e.url),children:e.name}),description:e.url})})}})]})},p=r(59),v=r.n(p),y=(r(113),r(102)),g=r(111),w=r.n(g);var S=w.a.createInstance({name:"server-searches"}),L=function(){var e=Object(y.a)(v.a.mark((function e(){var t,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.keys();case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getItem(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=[{name:"Hypixel",url:"mc.hypixel.net"},{name:"2b2t",url:"2b2t.org"},{name:"MineTower",url:"minetower.serv.gs"},{name:"HiveMC",url:"hivemc.com"}],I=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){L().then((function(e){return a(e)}))}),[a]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{title:"Popular servers",servers:k}),Object(f.jsx)(m,{title:"Recent servers",servers:r})]})},E=r(136),A=r(137),M=r(146),N=r(141),P=r(132);function q(){return Object(f.jsxs)("div",{style:{textAlign:"center"},children:[Object(f.jsx)("h2",{children:"Loading"}),Object(f.jsx)(P.a,{size:"large"})]})}var T=r(244);function z(e){return Object(f.jsx)(T.a,{status:"error",title:"Failed to fetch server details",subTitle:e.message})}var F=r(237),C=r(238),H=r(243),R=r(138),J=r.n(R),U=function(e){var t=e.motd,r=Object(n.useState)(""),a=Object(d.a)(r,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){J.a.toHtml(t,(function(e,t){return c(t)}))}),[t]),(null===t||void 0===t?void 0:t.trim())?Object(f.jsx)("div",{dangerouslySetInnerHTML:{__html:s}}):null},D=r(68),_=r(44),W=function(e){return e.online?Object(f.jsxs)(h.a.Title,{level:3,children:[Object(f.jsx)(D.a,{style:{color:"green"}})," Online!"]}):Object(f.jsxs)(h.a.Title,{level:3,children:[Object(f.jsx)(_.a,{style:{color:"darkred"}})," Offline"]})},B=r(248),G=function(e){var t=e.players;if(!t)return null;var r=t.now,n=t.max;return Object(f.jsxs)(h.a.Text,{strong:!0,children:[Object(f.jsx)(B.a,{})," ",r," / ",n," player",1===r?"":"s"," online"]})},V=r(147),Y=r(148),K=r(246),Q=function(e){var t=e.player,r=t.name,a=t.id,s=Object(n.useState)(a),c=Object(d.a)(s,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){r&&!i?fetch("https://api.minetools.eu/uuid/".concat(r)).then((function(e){return e.json()})).then((function(e){console.log({response:e}),o(e.id)})).catch((function(e){console.error(e)})):console.log("UUID supplied",{name:r,uuid:i})}),[r,i]),Object(f.jsx)(b.b.Item.Meta,{avatar:Object(f.jsx)(K.a,{shape:"square",size:"large",src:"https://crafatar.com/renders/head/".concat(i,"?overlay")}),title:Object(f.jsx)("a",{href:"https://namemc.com/profile/".concat(r),target:"_blank",rel:"noopener noreferrer",children:r})})},X=function(e){var t,r,n=e.players;if(!n)return null;var a=new Map;if(null===n||void 0===n||null===(t=n.list)||void 0===t||t.forEach((function(e){return a.set(e,void 0)})),null===n||void 0===n||null===(r=n.sample)||void 0===r||r.forEach((function(e){return a.set(e.name,e.id)})),console.log("PLAYERMAP",a),0===a.size)return null;var s=Array.from(a).sort((function(e,t){return e[0].localeCompare(t[0])})),c=Object(f.jsxs)("div",{style:{width:"300px"},children:[Object(f.jsx)("p",{children:'Servers are able to control a "sample" of players online, and may use this for extra metadata or advertisment.'}),Object(f.jsx)("p",{children:"Occasionally, servers may also report nicknames."})]}),i=Object(f.jsx)(V.a,{content:c,title:"Why are there weird names sometimes?",placement:"topLeft",children:Object(f.jsx)(Y.a,{})});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(j.a,{orientation:"left",children:["Player List ",i]}),Object(f.jsx)(b.b,{grid:{gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:5},dataSource:s,size:"large",renderItem:function(e){var t=Object(d.a)(e,2),r=t[0],n=t[1];return Object(f.jsx)(b.b.Item,{children:Object(f.jsx)(Q,{player:{name:r,id:n}})})}})]})},Z="".concat("/mc-status","/grassblock.jpg"),$=function(e){var t=e.favicon;return Object(f.jsx)(K.a,{src:null!==t&&void 0!==t?t:Z,size:128,shape:"square"})},ee=r(247),te=function(e){var t=e.server;if(!t||!(null===t||void 0===t?void 0:t.name))return null;var r=t.name.split(/[\s-,]+/).map((function(e){return Object(f.jsx)(ee.a,{children:e},e)}));return Object(f.jsx)("div",{style:{maxWidth:"400px"},children:r})},re=function(e){var t=e.data;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(F.a,{gutter:[16,16],children:[Object(f.jsx)(C.a,{flex:"128px",children:Object(f.jsx)($,{favicon:t.favicon})}),Object(f.jsxs)(C.a,{style:{textAlign:"initial"},children:[Object(f.jsx)(W,{online:t.online}),Object(f.jsx)(G,{players:t.players}),Object(f.jsx)(te,{server:t.server}),Object(f.jsx)(U,{motd:t.motd})]})]}),Object(f.jsx)(F.a,{gutter:[16,16],children:Object(f.jsx)(C.a,{span:24,children:Object(f.jsx)(X,{players:t.players})})}),Object(f.jsx)(F.a,{gutter:[16,16],children:Object(f.jsxs)(C.a,{span:24,children:[Object(f.jsx)(j.a,{}),Object(f.jsx)(H.a,{ghost:!0,style:{textAlign:"initial"},children:Object(f.jsx)(H.a.Panel,{header:"Raw Data",children:Object(f.jsx)("pre",{children:JSON.stringify(t,null,2)})},"1")})]})})]})},ne=function e(t,r){var n=Object.assign({},t);return Object.keys(r).forEach((function(t){var a,s=n[t],c=r[t];!(a=c)||"object"!==typeof a||Array.isArray(a)?s||(n[t]=c):n[t]=e(s,c)})),n},ae=function(e){Object(M.a)(r,e);var t=Object(N.a)(r);function r(e){var n;return Object(E.a)(this,r),(n=t.call(this,e)).state={statusLoaded:!1,queryLoaded:!1},n}return Object(A.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("https://mcapi.us/server/status?ip=".concat(this.props.address)).then((function(e){return e.json()})).then((function(t){var r="success"===(null===t||void 0===t?void 0:t.status)?t:{},n=ne(e.state.data,r);e.setState({data:n,statusLoaded:!0})})).catch((function(t){e.setState({statusError:t,statusLoaded:!0}),console.error(t)})),fetch("https://mcapi.us/server/query?ip=".concat(this.props.address)).then((function(e){return e.json()})).then((function(t){var r="success"===(null===t||void 0===t?void 0:t.status)?t:{},n=ne(e.state.data,r);e.setState({data:n,queryLoaded:!0})})).catch((function(t){e.setState({queryError:t}),console.error(t)}))}},{key:"render",value:function(){var e=this.state,t=e.statusError,r=e.queryError,n=e.data,a=e.statusLoaded,s=e.queryLoaded;if(!a&&!s)return Object(f.jsx)(q,{});if(!n||0===Object.keys(n).length){if(a&&s){var c=[t,r].filter((function(e){return e})).join("/");return Object(f.jsx)(z,{message:c})}return Object(f.jsx)(q,{})}return(n.error||"error"===n.status)&&a&&s?Object(f.jsx)(z,{message:n?n.error:"No data found??"}):Object(f.jsx)(re,{data:n},JSON.stringify(n))}}]),r}(a.a.Component),se=i.a.Header,ce=i.a.Footer,ie=i.a.Content;var oe=function(){var e=new URLSearchParams(window.location.search),t=e.get("ip");return Object(f.jsxs)(i.a,{className:"layout",children:[Object(f.jsx)(se,{className:"layout-header",children:Object(f.jsxs)("h2",{className:"layout-header",children:[Object(f.jsx)("img",{className:"logo",src:"".concat("/mc-status","/logo512.png"),alt:"computer logo"}),"Minecraft Server Status"]})}),Object(f.jsxs)(ie,{className:"layout-content",children:[Object(f.jsxs)(o.a,{style:{textAlign:"center"},name:"basic",layout:"vertical",size:"large",initialValues:{ip:t},onFinish:function(t){t.ip&&(e.set("ip",t.ip),window.location.search=e.toString())},children:[Object(f.jsx)(o.a.Item,{label:"Server IP:",name:"ip",children:Object(f.jsx)(l.a,{})}),Object(f.jsx)(o.a.Item,{children:Object(f.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Go!"})})]}),Object(f.jsx)(j.a,{}),!t&&Object(f.jsx)(I,{}),t&&Object(f.jsx)(ae,{address:t},t)]}),Object(f.jsxs)(ce,{className:"layout-footer",children:["Created by ",Object(f.jsx)("a",{href:"https://github.com/Samuel-Lewis",children:"Samuel Lewis"})," |"," ","Avatars by ",Object(f.jsx)("a",{href:"https://crafatar.com",children:"Crafatar"})]})]})};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(oe,{})}),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.747ba38a.chunk.js.map